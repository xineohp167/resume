var bio = {
	"name": "Fabien Kunis",
	"role": "Software Developer",
	"contacts": {
		"email": "fabien.kunis@gmail.com",
		"github": "xineohp167",
		"mobile": "+359886023622",
		"location": "Sofia, Bulgaria"
	},
	"picture": "images/me.jpg",
	"welcomeMessage": "Go beyond and outer the limits!",
	"skills": ["Java", "JavaEE", "python", "Software Development", "Test Driven Development"]
};

var work = {
	"jobs": [
		{
			"employer": "Freelancer",
			"title": "Software Developer and Consultant",
			"location": "Sofia, Bulgaria",
			"datesWorked": "2014-2016",
			"description": "I consulted and developed software for external clients in a variety of languages and platforms. This included design, development and deployment of back end systems as well as front end graphical user interfaces."
		},
		{
			"employer": "GoGoNet",
			"title": "Admin and Software Developer",
			"location": "Sofia, Bulgaria",
			"datesWorked": "2011-2014",
			"description": "My primary responsibilities involve all aspects of developing, maintaining and supporting the ecommerce software systems. As an admin I had to maintain the website. Also I had to maintain the database. As a developer my work included, but was not limited to, database design, software architecture design, creating GUIs and supporting scripts."
		},
		{
			"employer": "Solid State Physics and Microelectronics Department",
			"title": "Junior Laborant and Technical Assistant",
			"location": "Sofia, Bulgaria",
			"datesWorked": "2010-2014",
			"description": "I worked on different projects, which were mainly focused on developing and enhancing performance of semiconductor sensors."
		},
		{
			"employer": "Datecs GIS Center",
			"title": "GIS Operator",
			"location": "Sofia, Bulgaria",
			"datesWorked": "2010",
			"description": "Developing GPS maps for online and mobile applications."
		},
		{
			"employer": "Desbo law firm and real estates agency",
			"title": "Software Developer",
			"location": "Sofia, Bulgaria",
			"datesWorked": "2010",
			"description": "I was hired to work on system to support working process of the real estates agency. I developed scripts for automatic uploading real estates on the different real estates portals. I also developed GUI for uploading the real estates. And I created one of the firm websites."
		},
		{
			"employer": "LNST at the University of Sofia",
			"title": "Junior Laborant and Technical Assistant",
			"location": "Sofia, Bulgaria",
			"datesWorked": "2008",
			"description": "I was part of the team for creating thin films of CdSe nanoparticles. Also I helped in creating the software for controlling the dip coating machine."
		}
	]
};

var education = {
	"schools": [
		{ "name": "University of Sofia \"St. Kliment Ohridski\"",
			"datesAttended": "2012-2014",
			"thesis": "Cellular automata in physical simulations",
			"location": "Sofia, Bulgaria",
			"degree": "M.Sc. Microelectronics and Information Technology with golden medal",
			"url": "https://www.uni-sofia.bg/index.php/eng"
		},
		{ "name": "University of Sofia \"St. Kliment Ohridski\"",
			"datesAttended": "2008-2012",
			"thesis": "Computer simulations in nonlinear processes - solitons and chaos ",
			"location": "Sofia, Bulgaria",
			"degree": "B.Sc. Engineering Physics with distinction",
			"url": "https://www.uni-sofia.bg/index.php/eng"
		},
		{ "name": "University of Sofia \"St. Kliment Ohridski\"",
			"datesAttended": "2008-2012",
			"location": "Sofia, Bulgaria",
			"degree": "B.Sc. Physics with Teaching with distinction",
			"url": "https://www.uni-sofia.bg/index.php/eng"
		},
		{ "name": "High School for electronics \"John Atanasov\"",
			"location": "Sofia, Bulgaria",
			"degree": "specialist in electonics with distinction",
			"url": "https://www.uni-sofia.bg/index.php/eng"
		}
	],
	"onlineCourses": [
		{ "school": "University of Helsinki",
			"title": "Object-Oriented Programming with Java, part II",
			"completed": "2016",
			"url": "https://drive.google.com/open?id=0B6QKKfa77zdOZGhCYzBqV3N4YkE"
		},
		{ "school": "University of Helsinki",
			"title": "Object-Oriented Programming with Java, part I",
			"completed": "2016",
			"url": "https://drive.google.com/open?id=0B6QKKfa77zdObnpYZHRtdERtZWs"
		},
		{ "school": "MongoDB University",
			"title": "MongoDB for Java Developers M101J",
			"completed": "2014",
			"url": "https://drive.google.com/file/d/0B6QKKfa77zdONXVpb3AyUUdscjA"
		},
		{ "school": "MongoDB University",
			"title": "MongoDB for DBAs M102",
			"completed": "2014",
			"url": "https://drive.google.com/open?id=0B6QKKfa77zdOYzQ5Wi1ldkVNX0k"
		},
		{ "school": "Stanford University - OpenEdx",
			"title": "Introduction to Databases with distinction",
			"completed": "2014",
			"url": "https://drive.google.com/open?id=0B6QKKfa77zdOU3d5dnpxc0hXRUk"
		},
		{ "school": "University of Illinois at Urbana-Champaign - Coursera",
			"title": "Creative, Serious and Playful Science of Android Apps",
			"completed": "2014",
			"url": "https://drive.google.com/open?id=0B6QKKfa77zdOcjlBNE9YdmdSdWM"
		},
		{ "school": "Rice University - Coursera",
			"title": "An Introduction to Interactive Programming in Python with distinction",
			"completed": "2014",
			"url": "https://drive.google.com/file/d/0B6QKKfa77zdOYkNPUnBVMTBjRjA"
		},
		{ "school": "University of Toronto - Coursera",
			"title": "Learn to Program: The Fundamentals",
			"completed": "2014",
			"url": "https://drive.google.com/open?id=0B6QKKfa77zdONDRvOWFCVVNyR00"
		},
		{ "school": "Udacity",
			"title": "Problem Solving with Java with highest distinction",
			"completed": "2014",
			"url": "https://drive.google.com/open?id=0B6QKKfa77zdONG1lT0NHODE2dU0"
		},
		{ "school": "Stanford University - Coursera",
			"title": "Introduction to Logic with distinction",
			"completed": "2013",
			"url": "https://drive.google.com/open?id=0B6QKKfa77zdOQVljXzUxYll1RW8"
		}

	]
};

var projects = {
	"projects": [
		{
			"title": "Steganography",
			"datesWorked": "2012",
			"description": "Java GUI app for hiding message in image. The secret message is encoded in the image. The initial image and the image with the message have not vissible difference.",
			"images": []
		},
		{
			"title": "Image Filter",
			"datesWorked": "2013",
			"description": "This image filter was made for photos which has been taken at night or in low light. Using the filter a man can view details in the image which otherwise are invisible.",
			"images": []
		},
		{
			"title": "Price checker",
			"datesWorked": "2013",
			"description": "Python scripts for price checking. The price of the product is checked from a list of online shops.",
			"images": []
		},
		{
			"title": "Pdf extractor and search engine",
			"datesWorked": "2014",
			"description": "Java app for extracting data from pdf files and loading the data in search engine. The data and metadata from pdf files is extracted and loaded in search engine. The search engine can be used with different criteria and filters.",
			"images": []
		},
		{
			"title": "Online data extractor and visualizer",
			"datesWorked": "2015",
			"description": "Online app which automatically loads and extracts data from different resources. The loaded data is respresented in various charts and graphs. ",
			"images": []
		},
		{
			"title": "GUI price checker and uploader",
			"datesWorked": "2015-2016",
			"description": "Java GUI app for price checking and automatically uploading the changes to the website. A list of products is loaded and every product is checked for lowest price from concurrent online shops. Than the changes are automatically uploaded to the website.",
			"images": []
		},
		{
			"title": "Quiz Portal",
			"datesWorked": "2016",
			"description": "Quiz portal where people can take different quizzes. They can also compare their quiz scores to friends, challenge friends to beat their score, or write and edit quizzes that other people can take.",
			"images": []
		}
	]
};


var formattedName = HTMLheaderName.replace("%data%", bio.name);
var formattedRole = HTMLheaderRole.replace("%data%", bio.role);
var formattedBioPic = HTMLbioPic.replace("%data%", bio.picture);
var formattedWelcomeMsg = HTMLWelcomeMsg.replace("%data%", bio.welcomeMessage);

var formattedContactInfo = [];
formattedContactInfo.push(HTMLemail.replace("%data%", bio.contacts.email));
formattedContactInfo.push(HTMLgithub.replace("%data%", bio.contacts.github));
formattedContactInfo.push(HTMLmobile.replace("%data%", bio.contacts.mobile));
formattedContactInfo.push(HTMLlocation.replace("%data%", bio.contacts.location));


$("#header").prepend(formattedRole);
$("#header").prepend(formattedName);
$("#header").append(formattedBioPic);
$("#header").append(formattedWelcomeMsg);

if(bio.skills.length > 0) {
	$("#header").append(HTMLskillsStart);

	for(i in bio.skills) {
		$("#skills").append(HTMLskills.replace("%data%", bio.skills[i]));
	}
}

for(i in formattedContactInfo) {
	$("#topContacts").append(formattedContactInfo[i]);
	$("#footerContacts").append(formattedContactInfo[i]);
}


function displayWork() {

	if(work.jobs.length > 0) {

		$("#workExperience").append(HTMLworkStart);

		for(i in work.jobs) {
			var formattedEmployer = HTMLworkEmployer.replace("%data%", work.jobs[i].employer);
			var formattedWorkTitle = HTMLworkTitle.replace("%data%", work.jobs[i].title);
			var formattedWorkLocation = HTMLworkLocation.replace("%data%", work.jobs[i].location);
			var formattedDatesWorked = HTMLworkDates.replace("%data%", work.jobs[i].datesWorked);
			var formattedWorkDescription = HTMLworkDescription.replace("%data%", work.jobs[i].description);

			var formattedEmployerWorkTitle = formattedEmployer + formattedWorkTitle;

			$(".work-entry:last").append(formattedEmployerWorkTitle);
			$(".work-entry:last").append(formattedWorkLocation);
			$(".work-entry:last").append(formattedDatesWorked);
			$(".work-entry:last").append(formattedWorkDescription);
		}

	}

}

displayWork();


projects.display = function() {
	if(projects.projects.length > 0) {
		for(i in projects.projects) {
			$("#projects").append(HTMLprojectStart);

			var formattedProjectTitle = HTMLprojectTitle.replace("%data%", projects.projects[i].title).replace("#", projects.projects[i].url);
			var formattedProjectDates = HTMLprojectDates.replace("%data%", projects.projects[i].datesWorked);
			var formattedProjectDescription = HTMLprojectDescription.replace("%data%", projects.projects[i].description);

			$(".project-entry:last").append(formattedProjectTitle);
			$(".project-entry:last").append(formattedProjectDates);
			$(".project-entry:last").append(formattedProjectDescription);

			for(img in projects.projects[i].images) {
				var formattedProjectImage = HTMLprojectImage.replace("%data%", projects.projects[i].images[img]);
				$(".project-entry:last").append(formattedProjectImage);
			}


		}
	}
}

projects.display();

education.display = function() {
	if(education.schools.length > 0 || education.onlineCourses.length > 0) {
		for(i in education.schools) {
			$("#education").append(HTMLschoolStart);

			var formattedSchoolName = HTMLschoolName.replace("%data%", education.schools[i].name).replace("#", education.schools[i].url);
			var formattedSchoolDegree = HTMLschoolDegree.replace("%data%", education.schools[i].degree);
			if(education.schools[i].thesis != null){
				var formattedScholThesis = HTMLschoolThesis.replace("%data%", education.schools[i].thesis);
			}
			if(education.schools[i].datesAttended != null){
				var formattedSchoolDates = HTMLschoolDates.replace("%data%", education.schools[i].datesAttended);
			}
			var formattedSchoolLocation = HTMLschoolLocation.replace("%data%", education.schools[i].location);


			$(".education-entry:last").append(formattedSchoolName + formattedSchoolDegree);
			if(education.schools[i].thesis != null){
				$(".education-entry:last").append(formattedScholThesis);
			}
			if(education.schools[i].datesAttended != null){
				$(".education-entry:last").append(formattedSchoolDates);
			}
			$(".education-entry:last").append(formattedSchoolLocation);

		}

		if(education.onlineCourses.length > 0) {
			$("#education").append(HTMLonlineClasses);
			for(i in education.onlineCourses) {
				$("#education").append(HTMLschoolStart);
				var formattedOnlineTitle = HTMLonlineTitle.replace("%data%", education.onlineCourses[i].title).replace("#", education.onlineCourses[i].url);
				var formattedOnlineSchool = HTMLonlineSchool.replace("%data%", education.onlineCourses[i].school);
				var formattedOnlineDates = HTMLonlineDates.replace("%data%", education.onlineCourses[i].completed);

				$(".education-entry:last").append(formattedOnlineTitle + formattedOnlineSchool);
				$(".education-entry:last").append(formattedOnlineDates);
			}
		}

	}
}

education.display();

/**
 * Skills Chart
 */
$(function () {
    $('#container').highcharts({
        chart: {
            type: 'scatter',
            zoomType: 'xy'
        },
        title: {
            text: 'Skills'
        },
        xAxis: {
            title: {
                enabled: true,
                text: 'Used (year)'
            },
            startOnTick: true,
            endOnTick: true,
            showLastLabel: true
        },
        yAxis: {
            title: {
                text: 'Duration (months)'
            }
        },
        legend: {
            layout: 'vertical',
            align: 'left',
            verticalAlign: 'top',
            x: 250,
            y: 0,
            floating: true,
            backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF',
            borderWidth: 1
        },
        plotOptions: {
            scatter: {
                marker: {
                    radius: 5,
                    states: {
                        hover: {
                            enabled: true,
                            lineColor: 'rgb(100,100,100)'
                        }
                    }
                },
                states: {
                    hover: {
                        marker: {
                            enabled: false
                        }
                    }
                },
                tooltip: {
                    headerFormat: '<b>{series.name}</b><br>',
                    pointFormat: 'Used in {point.x} for {point.y} month(s)'
                }
			}
		},
		series: [{
				name: 'Java',
				color: 'rgba(223, 83, 83, .5)',
				data: [[2014, 11], [2013, 11], [2012, 11], [2011, 8], [2010, 4], [2009, 12], [1998, 8], [1999, 8], [2000, 4]]
			},
			{
				name: 'python',
				color: 'rgba(119, 152, 191, .5)',
				data: [[2014, 1], [2013, 1], [2012, 1], [2011, 1]]
			},
			{
				name: 'SQL',
				color: 'rgba(119, 152, 80, .5)',
				data: [[2013, 2]]
			},
			{
				name: 'PL/SQL',
				color: 'rgba(170, 162, 30, .5)',
				data: [[2010, 2], [2006, 4]]
			},
			{
				name: 'C++',
				color: 'rgba(0, 102, 0, .5)',
				data: [[2004, 12], [2003, 6]]
			},
			{
				name: 'C',
				color: 'rgba(0, 102, 0, .5)',
				data: [[1997, 8], [2004, 2], [2008, 4]]
			},
			{
				name: 'Javascript',
				color: 'rgba(204, 0, 0, .5)',
				data: [[2014, 1]]
			},
			{
				name: 'HTML/CSS',
				color: 'rgba(153, 51, 0, .5)',
				data: [[2014, 5], [2002, 3], [2008, 4], [2005, 2]]
			},
			{
				name: 'Web Development',
				color: 'rgba(0, 153, 102, .5)',
				data: [[2014, 2]]
			},
			{
				name: 'TDD',
				color: 'rgba(0, 102, 51, .5)',
				data: [[2014, 12], [2013, 12], [2012, 12], [2011, 4]]
			},
			{
				name: 'Django',
				color: 'rgba(204, 102, 0, .5)',
				data: [[2013, 2.5]]
			},
			{
				name: 'PHP',
				color: 'rgba(210, 200, 0, .5)',
				data: [[2011, 3], [2013, 1], [2012, 1], [2014, 1]]
			}]
	});
});


$("#mapDiv").append(googleMap);
